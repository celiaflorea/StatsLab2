library("papaja")
# Seed for random number generation
set.seed(42)
knitr::opts_chunk$set(cache.extra = knitr::rand_seed)
# load libraries and data
library(data.table)
library(dplyr)
library(ggplot2)
library(readr)
library(papaja)
all_data <- read_csv("stroop_stand.csv")
# pre-processing and conversion to long format
RTs <- c(as.numeric(unlist(all_data[,1])),
as.numeric(unlist(all_data[,2])),
as.numeric(unlist(all_data[,3])),
as.numeric(unlist(all_data[,4]))
)
Congruency <- rep(rep(c("Congruent","Incongruent"),each=50),2)
Posture <- rep(c("Stand","Sit"),each=100)
Subject <- rep(1:50,4)
stroop_df <- data.frame(Subject,Congruency,Posture,RTs)
##table
overall_means <- stroop_df %>%
group_by(Posture,Congruency) %>%
summarise(meanRT = round(mean(RTs), digits=0),
SEMRT = round((sd(RTs)/sqrt(length(RTs))), digits=0))
# Make and print the table
library(kableExtra)
library(tidyr)
# format from long to wide
wide_means <- overall_means %>%
gather(variable, value, -(Posture:Congruency)) %>%
unite(temp, Congruency, variable) %>%
spread(temp, value)
# rename columns
names(wide_means)[2:5] <- c("RT","SEM","RT","SEM")
# print table
kable(wide_means, "latex", caption = "Mean Reaction Times and Standard Errors of the Mean for Experiment 3", booktabs = T) %>%
kable_styling() %>%
add_header_above(c(" " = 1, "Congruent" = 2, "Incongruent" = 2))
# make and print the figure
ggplot(overall_means, aes(x=Posture,
y=meanRT,
group=Congruency,
fill=Congruency))+
geom_bar(stat="identity",position="dodge")+
theme_classic(base_size=12)+
ylab("Mean Reaction Time (ms)")+
geom_errorbar(aes(ymin=meanRT-SEMRT,
ymax=meanRT+SEMRT),
position=position_dodge(width=0.9),
width=.2,
color="black")+
coord_cartesian(ylim=c(750,1000))
## ANOVA
# Make sure Subject is  a factor
stroop_df$Subject <-  as.factor(stroop_df$Subject)
aov_out <- aov(RTs~Posture*Congruency + Error(Subject/(Posture*Congruency)), stroop_df)
apa_aov <- apa_print(summary(aov_out))
apa_table(
apa_aov$table
, caption = "ANOVA table for Experiment 3"
)
null_distribution <- stroop_df %>%
group_by(Subject) %>%
summarise(meanRT= mean(RTs)) %>%
summarise(overall_meanRT = mean(meanRT),
overall_sd = sd(meanRT))
s_mean <- null_distribution$overall_meanRT
s_sd <- null_distribution$overall_sd
effect_sizes <-c(.05,.1,.2,.4,.5,.8)
save_es <- c()
save_p <- c()
for(es in effect_sizes){
for(i in 1:100){
sim_congruent <- rnorm(50*2,s_mean,s_sd)
sim_incongruent <- rnorm(50*2,(s_mean+(es*s_sd)),s_sd)
subjects <- as.factor(rep(rep(1:50,each=2),2))
congruency <- as.factor(rep(c("C","I"),each=100))
sim_df <- data.frame(subjects,
RTs = c(sim_congruent,sim_incongruent),
congruency)
sim_aov <- summary(aov(RTs~congruency+Error(subjects/congruency),sim_df))
get_pvalue <- sim_aov$`Error: subjects:congruency`[[1]]$`Pr(>F)`[1]
save_es <- c(save_es,es)
save_p <- c(save_p,get_pvalue)
}
}
power_sim <- data.frame(save_es, save_p)
plot_df <- power_sim %>%
group_by(save_es)%>%
summarise(power = length(save_p[save_p<.05])/length(save_p))
ggplot(plot_df, aes(x=save_es, y=power))+
geom_line()+
geom_point()+
xlab("Effect-size")
library(tinytex)
library("papaja")
# Seed for random number generation
set.seed(42)
knitr::opts_chunk$set(cache.extra = knitr::rand_seed)
# load libraries and data
library(data.table)
library(dplyr)
library(ggplot2)
library(readr)
library(papaja)
all_data <- read_csv("stroop_stand.csv")
# pre-processing and conversion to long format
RTs <- c(as.numeric(unlist(all_data[,1])),
as.numeric(unlist(all_data[,2])),
as.numeric(unlist(all_data[,3])),
as.numeric(unlist(all_data[,4]))
)
Congruency <- rep(rep(c("Congruent","Incongruent"),each=50),2)
Posture <- rep(c("Stand","Sit"),each=100)
Subject <- rep(1:50,4)
stroop_df <- data.frame(Subject,Congruency,Posture,RTs)
##table
overall_means <- stroop_df %>%
group_by(Posture,Congruency) %>%
summarise(meanRT = round(mean(RTs), digits=0),
SEMRT = round((sd(RTs)/sqrt(length(RTs))), digits=0))
# Make and print the table
library(kableExtra)
library(tidyr)
# format from long to wide
wide_means <- overall_means %>%
gather(variable, value, -(Posture:Congruency)) %>%
unite(temp, Congruency, variable) %>%
spread(temp, value)
# rename columns
names(wide_means)[2:5] <- c("RT","SEM","RT","SEM")
# print table
kable(wide_means, "latex", caption = "Mean Reaction Times and Standard Errors of the Mean for Experiment 3", booktabs = T) %>%
kable_styling() %>%
add_header_above(c(" " = 1, "Congruent" = 2, "Incongruent" = 2))
# make and print the figure
ggplot(overall_means, aes(x=Posture,
y=meanRT,
group=Congruency,
fill=Congruency))+
geom_bar(stat="identity",position="dodge")+
theme_classic(base_size=12)+
ylab("Mean Reaction Time (ms)")+
geom_errorbar(aes(ymin=meanRT-SEMRT,
ymax=meanRT+SEMRT),
position=position_dodge(width=0.9),
width=.2,
color="black")+
coord_cartesian(ylim=c(750,1000))
## ANOVA
# Make sure Subject is  a factor
stroop_df$Subject <-  as.factor(stroop_df$Subject)
aov_out <- aov(RTs~Posture*Congruency + Error(Subject/(Posture*Congruency)), stroop_df)
apa_aov <- apa_print(summary(aov_out))
apa_table(
apa_aov$table
, caption = "ANOVA table for Experiment 3"
)
null_distribution <- stroop_df %>%
group_by(Subject) %>%
summarise(meanRT= mean(RTs)) %>%
summarise(overall_meanRT = mean(meanRT),
overall_sd = sd(meanRT))
s_mean <- null_distribution$overall_meanRT
s_sd <- null_distribution$overall_sd
effect_sizes <-c(.05,.1,.2,.4,.5,.8)
save_es <- c()
save_p <- c()
for(es in effect_sizes){
for(i in 1:100){
sim_congruent <- rnorm(50*2,s_mean,s_sd)
sim_incongruent <- rnorm(50*2,(s_mean+(es*s_sd)),s_sd)
subjects <- as.factor(rep(rep(1:50,each=2),2))
congruency <- as.factor(rep(c("C","I"),each=100))
sim_df <- data.frame(subjects,
RTs = c(sim_congruent,sim_incongruent),
congruency)
sim_aov <- summary(aov(RTs~congruency+Error(subjects/congruency),sim_df))
get_pvalue <- sim_aov$`Error: subjects:congruency`[[1]]$`Pr(>F)`[1]
save_es <- c(save_es,es)
save_p <- c(save_p,get_pvalue)
}
}
power_sim <- data.frame(save_es, save_p)
plot_df <- power_sim %>%
group_by(save_es)%>%
summarise(power = length(save_p[save_p<.05])/length(save_p))
ggplot(plot_df, aes(x=save_es, y=power))+
geom_line()+
geom_point()+
xlab("Effect-size")
library(tinytex)
library("papaja")
# Seed for random number generation
set.seed(42)
knitr::opts_chunk$set(cache.extra = knitr::rand_seed)
# load libraries and data
library(data.table)
library(dplyr)
library(ggplot2)
library(readr)
library(readr)
all_data <- read_csv("stroop_stand.csv")
# pre-processing and conversion to long format
RTs <- c(as.numeric(unlist(all_data[,1])),
as.numeric(unlist(all_data[,2])),
as.numeric(unlist(all_data[,3])),
as.numeric(unlist(all_data[,4]))
)
Congruency <- rep(rep(c("Congruent","Incongruent"),each=50),2)
Posture <- rep(c("Stand","Sit"),each=100)
Subject <- rep(1:50,4)
stroop_df <- data.frame(Subject,Congruency,Posture,RTs)
##table
overall_means <- stroop_df %>%
group_by(Posture,Congruency) %>%
summarise(meanRT = round(mean(RTs), digits=0),
SEMRT = round((sd(RTs)/sqrt(length(RTs))), digits=0))
# Make and print the table
library(kableExtra)
library(tidyr)
# format from long to wide
wide_means <- overall_means %>%
gather(variable, value, -(Posture:Congruency)) %>%
unite(temp, Congruency, variable) %>%
spread(temp, value)
# rename columns
names(wide_means)[2:5] <- c("RT","SEM","RT","SEM")
# print table
kable(wide_means, "latex", caption = "Mean Reaction Times and Standard Errors of the Mean for Experiment 3", booktabs = T) %>%
kable_styling() %>%
add_header_above(c(" " = 1, "Congruent" = 2, "Incongruent" = 2))
# make and print the figure
ggplot(overall_means, aes(x=Posture,
y=meanRT,
group=Congruency,
fill=Congruency))+
geom_bar(stat="identity",position="dodge")+
theme_classic(base_size=12)+
ylab("Mean Reaction Time (ms)")+
geom_errorbar(aes(ymin=meanRT-SEMRT,
ymax=meanRT+SEMRT),
position=position_dodge(width=0.9),
width=.2,
color="black")+
coord_cartesian(ylim=c(750,1000))
## ANOVA
# Make sure Subject is  a factor
stroop_df$Subject <-  as.factor(stroop_df$Subject)
aov_out <- aov(RTs~Posture*Congruency + Error(Subject/(Posture*Congruency)), stroop_df)
apa_aov <- apa_print(summary(aov_out))
apa_table(
apa_aov$table
, caption = "ANOVA table for Experiment 3"
)
null_distribution <- stroop_df %>%
group_by(Subject) %>%
summarise(meanRT= mean(RTs)) %>%
summarise(overall_meanRT = mean(meanRT),
overall_sd = sd(meanRT))
s_mean <- null_distribution$overall_meanRT
s_sd <- null_distribution$overall_sd
effect_sizes <-c(.05,.1,.2,.4,.5,.8)
save_es <- c()
save_p <- c()
for(es in effect_sizes){
for(i in 1:100){
sim_congruent <- rnorm(50*2,s_mean,s_sd)
sim_incongruent <- rnorm(50*2,(s_mean+(es*s_sd)),s_sd)
subjects <- as.factor(rep(rep(1:50,each=2),2))
congruency <- as.factor(rep(c("C","I"),each=100))
sim_df <- data.frame(subjects,
RTs = c(sim_congruent,sim_incongruent),
congruency)
sim_aov <- summary(aov(RTs~congruency+Error(subjects/congruency),sim_df))
get_pvalue <- sim_aov$`Error: subjects:congruency`[[1]]$`Pr(>F)`[1]
save_es <- c(save_es,es)
save_p <- c(save_p,get_pvalue)
}
}
power_sim <- data.frame(save_es, save_p)
plot_df <- power_sim %>%
group_by(save_es)%>%
summarise(power = length(save_p[save_p<.05])/length(save_p))
ggplot(plot_df, aes(x=save_es, y=power))+
geom_line()+
geom_point()+
xlab("Effect-size")
r_refs(file = "r-references.bib")
